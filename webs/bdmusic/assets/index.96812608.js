var P=Object.defineProperty;var L=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var M=(e,o,t)=>o in e?P(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,x=(e,o)=>{for(var t in o||(o={}))S.call(o,t)&&M(e,t,o[t]);if(L)for(var t of L(o))T.call(o,t)&&M(e,t,o[t]);return e};import{d as D,s as O,w as V,r as $,o as _,c as b,a as i,b as y,e as R,u as c,f as z,g as N,h as j,i as H,j as u,k as r,E as U,l as q,m as F,n as W,F as G,p as J,v as K,q as Q,t as v,x as X,y as Y,z as E,A as C,B as Z,C as ee,D as te,G as se,H as oe,I as ae}from"./vendor.2628e9e8.js";const ne=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}};ne();const re="modulepreload",B={},le="./",m=function(o,t){return!t||t.length===0?o():Promise.all(t.map(a=>{if(a=`${le}${a}`,a in B)return;B[a]=!0;const s=a.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${n}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":re,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((h,w)=>{l.addEventListener("load",h),l.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>o())},f=D("main",{state(){return{userInfo:{},playMusic:{},musicId:"",newMusicList:[],checkPlay:!1,showPlay:!1,albums:{},albumContent:{}}},actions:{setAlbums(e){this.albums=e},setAlbumContent(e){this.albumContent=e},setMusicId(e){this.musicId=e}},getters:{getNewMusicList(e){return e.newMusicList},getPlayImgUrl(e){},getMusicId(e){return e.musicId},getAlbums(e){return e.albums},getWeekAlbums(e){return e.albums.weekData},getAlbumSong(e){return e.albumContent.songs},getAlbumImg(e){return e.albumContent.album.picUrl},getAlbumName(e){return e.albumContent.album.name},getAlbumDesc(e){return e.albumContent.album.description},getAlbumTime(e){return e.albumContent.album.publishTime},getAlbumSinger(e){var t;let o=[];return(t=e.albumContent)==null||t.album.artists.forEach(a=>{o.push(a.name)}),o.join(" / ")}}});const ie={class:"w-full sm:w-2/3 xl:w-1/3 xl:w-3/6 2xl:w-2/6 overflow-hidden flex flex-col relative h-screen mx-auto bg-gradient-to-b from-slate-100 to-white"},ce={setup(e){const o=f();let t=O();return V(()=>{o.showPlay&&!t.value&&(t.value=z(()=>m(()=>import("./Play.0331fa3e.js"),["assets/Play.0331fa3e.js","assets/Play.fe9708ee.css","assets/vendor.2628e9e8.js","assets/Date.dfd4e255.js","assets/Lyric.00b6b238.js","assets/Lyric.06c50043.css"])))}),(a,s)=>{const n=$("router-view");return _(),b("div",ie,[i(n,{name:"upTabBar"}),i(n),i(n,{name:"downTabBar"}),(_(),y(R(c(t)))),i(n,{name:"login"})])}}},ue=N.create({baseURL:"https://y.233c.cn",timeout:1e5}),d=async(e="",o={},t={})=>{let a={data:"",msg:""};return await ue.get(e,x({params:x({},o)},t)).then(s=>{a.data=s.data,a.msg=s.code}).catch(s=>{console.error("\u53D1\u751F\u4E86\u9519\u8BEF\uFF1A",s)}),a.data},de=async(e=0)=>await d("top/song",{type:e}),_e=async(e=0)=>await d("banner",{type:e}),Fe=async(e="",o=999e3)=>{let t=e;try{e instanceof Object&&"join"in e&&(console.log(e),t=e.join(","));const{success:a,message:s}=await pe(t);return a?await d("song/url",{id:t,br:o}):{data:a,msg:s}}catch(a){return console.error(a),new Error(a)}},pe=async(e="")=>await d("/check/music",{id:e}),We=async(e=50,o=0,t="All",a="new",s,n)=>await d("/top/album",{limit:e,offset:o,area:t,type:a,year:s,month:n}),me=async(e=0)=>await d("/album",{id:e}),Ge=async(e=0,o="")=>await d("http://cloud-music-api-lyart.vercel.app/login/cellphone",{phone:e,password:o},{withCredentials:!0}),he=async()=>await d("https://cloud-music-api-lyart.vercel.app/login/status",{},{withCredentials:!0}),Je=async e=>await d("/lyric",{id:e});var A=(e,o)=>{const t=e.__vccOpts||e;for(const[a,s]of o)t[a]=s;return t};const fe=e=>(E("data-v-47cf54d4"),e=e(),C(),e),we={class:"carousel select-none"},ve={class:"songList mt-4"},ge=["onClick"],be=fe(()=>r("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"},null,-1)),ye=[be],xe={setup(e){const o=j();H();const t=f();_e(0).then(s=>{o.value=s.banners}),t.getNewMusicList.length===0&&de(0).then(s=>{let n;s.data.forEach((l,h)=>{n="",l.artists.forEach(w=>{n?n+="/"+w.name:n=w.name}),s.data[h].singers=n}),t.newMusicList=s.data});const a=async s=>{t.showPlay=!0,s.id!==t.musicId&&(t.musicId=s.id,t.playMusic=s)};return(s,n)=>(_(),y(c(Y),{class:"w-full mx-auto select-none overflow-hidden"},{default:u(()=>[i(c(X),{class:"px-3 py-0"},{default:u(()=>[r("div",we,[i(c(U),{trigger:"click",height:"160px",arrow:"never",loop:!0,initialIndex:2},{default:u(()=>[(_(!0),b(G,null,q(o.value,(l,h)=>(_(),y(c(F),{key:h},{default:u(()=>[i(c(W),{src:l.imageUrl,fit:"fill",alt:l.typeTitle,class:"rounded-2xl w-full h-full"},null,8,["src","alt"])]),_:2},1024))),128))]),_:1})]),J(r("div",ve,[i(c(Q),{data:c(t).newMusicList,style:{width:"100%"},"show-header":!1},{default:u(()=>[i(c(v),{type:"index",label:"\u5E8F\u53F7","min-width":"10%",class:"text-lg"}),i(c(v),{prop:"name","min-width":"60%",label:"\u6B4C\u540D","show-overflow-tooltip":!0}),i(c(v),{prop:"singers","min-width":"20%",label:"\u6B4C\u624B","show-overflow-tooltip":!0}),i(c(v),{"min-width":"10%"},{default:u(({row:l})=>[(_(),b("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mx-auto hover:text-red-500 cursor-pointer",viewBox:"0 0 20 20",fill:"currentColor",onClick:h=>a(l)},ye,8,ge))]),_:1})]),_:1},8,["data"])],512),[[K,c(t).newMusicList.length]])]),_:1})]),_:1}))}};var Ee=A(xe,[["__scopeId","data-v-47cf54d4"]]);const Ce={},p=e=>(E("data-v-51863bf1"),e=e(),C(),e),Ae={class:"flex"},Ie={class:"w-full"},ke={class:"flex w-full justify-around h-full"},Le=p(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1)),Me=p(()=>r("span",null,"\u4E3B\u9875",-1)),Be=p(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"})],-1)),$e=p(()=>r("span",null,"\u4E13\u8F91",-1)),Pe=p(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),Se=p(()=>r("span",null,"\u6536\u85CF",-1)),Te=p(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"})],-1)),De=p(()=>r("span",null,"\u6211\u7684",-1));function Oe(e,o){const t=$("router-link");return _(),b("footer",Ae,[r("nav",Ie,[r("ul",ke,[r("li",null,[i(t,{to:"/"},{default:u(()=>[Le,Me]),_:1})]),r("li",null,[i(t,{to:"/album"},{default:u(()=>[Be,$e]),_:1})]),r("li",null,[i(t,{to:"/play"},{default:u(()=>[Pe,Se]),_:1})]),r("li",null,[i(t,{to:"/me"},{default:u(()=>[Te,De]),_:1})])])])])}var g=A(Ce,[["render",Oe],["__scopeId","data-v-51863bf1"]]);const I=e=>(E("data-v-169433e1"),e=e(),C(),e),Ve=I(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 cursor-pointer text-#2B3036",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"})],-1)),Re=I(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 cursor-pointer text-#2B3036",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z","clip-rule":"evenodd"})],-1)),ze=I(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Ne={setup(e){return(o,t)=>(_(),y(c(ee),{class:"px-0 flex items-center"},{default:u(()=>[i(c(Z),{placeholder:"\u5927\u5BB6\u90FD\u5728\u641C \u4E00\u6837\u7684\u6708\u5149"},{prepend:u(()=>[Ve]),append:u(()=>[Re]),prefix:u(()=>[ze]),_:1})]),_:1}))}};var je=A(Ne,[["__scopeId","data-v-169433e1"]]),He=te({history:se(),routes:[{path:"/",components:{default:Ee,upTabBar:je,downTabBar:g},keepAlive:!0},{path:"/login",components:{login:()=>m(()=>import("./Login.f99e1377.js"),["assets/Login.f99e1377.js","assets/Login.2524b456.css","assets/vendor.2628e9e8.js"])},name:"login"},{path:"/me",components:{default:()=>m(()=>import("./V-Me.f29ecfb4.js"),["assets/V-Me.f29ecfb4.js","assets/vendor.2628e9e8.js"]),downTabBar:g},async beforeEnter(e,o,t){if(JSON.stringify(f().userInfo)!=="{}"){t();return}const{data:a}=await he();console.log(a),a.code!==200?t({path:"/login"}):(f().userInfo=a.profile,t())}},{path:"/play",components:{default:()=>m(()=>import("./Lyric.00b6b238.js"),["assets/Lyric.00b6b238.js","assets/Lyric.06c50043.css","assets/vendor.2628e9e8.js"]),downTabBar:g},name:"play",keepAlive:!0},{path:"/album",name:"album",components:{default:()=>m(()=>import("./V-Album.24d3624a.js"),["assets/V-Album.24d3624a.js","assets/V-Album.a331de7e.css","assets/vendor.2628e9e8.js","assets/UpAlbumBar.febfebf8.js","assets/UpAlbumBar.58ae2407.css"]),downTabBar:g},keepAlive:!0},{path:"/:notfound(.*)*",components:{default:()=>m(()=>import("./V-NotFound.ab7043ea.js"),["assets/V-NotFound.ab7043ea.js","assets/vendor.2628e9e8.js"])}},{path:"/albumDetails/:id(\\d*)",name:"albumDetails",components:{default:()=>m(()=>import("./V-AlbumDetails.a9d12010.js"),["assets/V-AlbumDetails.a9d12010.js","assets/V-AlbumDetails.427eada0.css","assets/Date.dfd4e255.js","assets/UpAlbumBar.febfebf8.js","assets/UpAlbumBar.58ae2407.css","assets/vendor.2628e9e8.js"])},async beforeEnter(e,o,t){const a=await me(e.params.id);a.code===200?(f().setAlbumContent(a),t()):t(o)}}]});const k=oe(ce);k.use(ae());k.use(He);k.mount("#app");export{A as _,Je as a,We as b,Fe as g,Ge as l,f as s};
